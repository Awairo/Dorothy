<!-- params: nil -->
<Layer Name="mask" X="{ @X }" Y="{ @Y }" TouchPriority="{ CCMenu.DefaultHandlerPriority-99 }" SwallowTouches="True" TouchEnabled="True">
	<Import Module="Control.ScrollArea"/>
	<Import Module="Control.CircleButton"/>

	<Node Name="panel" X="{ $X }" Y="{ $Y }" Width="{ @W*0.6 }" Height="{ @H*0.6 }" Ref="True">
		<ScrollArea Name="scrollArea" X="{ $X }" Y="{ $Y }" Width="{ $W }" Height="{ $H }" TouchPriority="{ CCMenu.DefaultHandlerPriority-100 }" Ref="True">
			<DrawNode X="{ $X }" Y="{ $Y }" ZOrder="-1">
				<Polygon FillColor="0xe5100000" BorderWidth="0.5" BorderColor="0x88ffafaf">
					<Vec2 X="{ -@W*0.3-1 }" Y="{ -@H*0.3-1 }"/>
					<Vec2 X="{ @W*0.3+1 }" Y="{ -@H*0.3-1 }"/>
					<Vec2 X="{ @W*0.3+1 }" Y="{ @H*0.3+1 }"/>
					<Vec2 X="{ -@W*0.3-1 }" Y="{ @H*0.3+1 }"/>
				</Polygon>
			</DrawNode>
		</ScrollArea>

		<Menu Name="opMenu" X="{ $R-35 }" Y="{ $T }" Width="130" Height="60" TouchPriority="{ CCMenu.DefaultHandlerPriority-101 }" Ref="True">
			<CircleButton Name="cancelBtn" X="30" Y="30" Radius="30" Text="Cancel" FontSize="16" Ref="True">
				<DrawNode>
					<Dot X="30" Y="30" Radius="30" Color="0x22ffffff"/>
				</DrawNode>
			</CircleButton>
			<CircleButton Name="okBtn" X="100" Y="30" Radius="30" Text="Group" FontSize="16" Ref="True">
				<DrawNode>
					<Dot X="30" Y="30" Radius="30" Color="0x22ffffff"/>
				</DrawNode>
			</CircleButton>
		</Menu>
	</Node>

	<Action>
		<Scale Name="scaleIn" Time="0.3" X="1" Y="1" Ease="OutBack"/>
		<Scale Name="scaleInA" Time="0.3" X="1" Y="1" Ease="OutBack"/>
		<Scale Name="scaleInB" Time="0.3" X="1" Y="1" Ease="OutBack"/>
	</Action>

	<Slot Name="Entered">
		scrollArea.scaleX = 0
		scrollArea.scaleY = 0
		scrollArea:perform(scaleIn)
		cancelBtn.scaleX = 0
		cancelBtn.scaleY = 0
		cancelBtn:perform(scaleInA)
		okBtn.scaleX = 0
		okBtn.scaleY = 0
		okBtn:perform(scaleInB)
	</Slot>
</Layer>
