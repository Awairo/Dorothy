<!-- params: X, Y, Width, Height -->
<Layer X="{ @X }" Y="{ @Y }"
	TouchPriority="{ editor.levelTriggerEditor }"
	SwallowTouches="True" TouchEnabled="True" Visible="False">
	<Import Module="Control.Basic.ScrollArea"/>
	<Import Module="Control.Basic.Button"/>
	<Import Module="Control.Basic.GroupButton"/>
	<Import Module="Control.Trigger.TriggerItem"/>
	<Import Module="View.Shape.LineRect"/>
	<Import Module="View.Shape.SolidRect"/>
	<Import Module="View.Control.Basic.CircleButton"/>

	<Node Name="panel" X="{ $X }" Y="{ $Y }" Width="{ @W }" Height="{ @H }" Ref="True">
		<SolidRect Width="{ $W }" Height="{ $H }" Color="0xff100000"/>

		<Script>local menuW = 250</Script>
		<!-- scope menu -->
		<Menu Name="scopeMenu" X="{ menuW/2 }" Y="{ $T-55 }" Width="{ menuW }" Height="110" AlignItems="10" TouchPriority="{ editor.levelTriggerEditor-1 }" Ref="True">
			<TriggerItem Name="localBtn" Text="Local" Width="{ ($W-30)/2 }" Height="40" FontSize="20" Ref="True"/>
			<TriggerItem Name="globalBtn" Text="Global" Width="{ ($W-30)/2 }" Height="40" FontSize="20" Ref="True"/>
			<GroupButton Name="groupBtn" Text="Default" Width="{ menuW-20 }" Height="40" Ref="True"/>
		</Menu>

		<!-- trigger list -->
		<ScrollArea Name="listScrollArea" X="{ menuW/2 }" Y="{ $T-110-($H-180)/2 }" Width="{ menuW }" Height="{ $H-180 }" PaddingX="0" PaddingY="100" TouchPriority="{ editor.levelTriggerEditor-2 }" Ref="True">
			<Item Name="view">
				<Menu Name="localListMenu" X="{ $X }" Y="{ $Y }" Width="{ $W }" Height="{ $H }" TouchPriority="{ editor.levelTriggerEditor-1 }" Enabled="False" Ref="True"/>
				<Menu Name="globalListMenu" X="{ $X }" Y="{ $Y }" Width="{ $W }" Height="{ $H }" TouchPriority="{ editor.levelTriggerEditor-1 }" Enabled="False" Ref="True" Visible="False"/>
			</Item>
		</ScrollArea>

		<!-- trigger edit menu -->
		<Menu Name="editMenu" X="{ menuW/2 }" Y="{ $B+35 }" Width="{ menuW }" Height="70" AlignItems="10" TouchPriority="{ editor.levelTriggerEditor-1 }" Enabled="False" Ref="True">
			<Button Name="newBtn" Text="New" Width="50" Height="50" FontSize="16" Ref="True"/>
			<Button Name="addBtn" Text="Add" Width="50" Height="50" FontSize="16" Ref="True"/>
			<Button Name="delBtn" Text="Del" Width="50" Height="50" FontSize="16" Ref="True"/>
			<Button Name="copyBtn" Text="Copy" Width="50" Height="50" FontSize="16" Ref="True"/>
		</Menu>

		<LineRect X="1" Y="1" Width="{ $W-2 }" Height="{ $H-2 }" Color="0xffffafaf"/>
		<Line Color="0xffafaf" X="{ $X }" Y="{ $Y }" Width="{ $W }" Height="{ $H }">
			<Vec2 X="{ menuW }" Y="{ $B+1 }"/>
			<Vec2 X="{ menuW }" Y="{ $T-1 }"/>
		</Line>
	</Node>

	<Menu Name="opMenu" X="{ @R-40 }" Y="{ @T-40 }" Width="60" Height="60" TouchPriority="{ editor.levelTriggerMenu }" Enabled="False" Ref="True">
		<CircleButton Name="closeBtn" X="{ $X }" Y="{ $Y }" Radius="30" Text="Close" FontSize="20" Ref="True">
			<DrawNode>
				<Dot X="30" Y="30" Radius="30" Color="0x22ffffff"/>
			</DrawNode>
		</CircleButton>
	</Menu>
</Layer>
